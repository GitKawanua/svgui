!function(){"use strict";let e=(()=>{let e;function t(){return e||(e=new Promise(((e,t)=>{const s=indexedDB.open("svgo-keyval",1);s.onerror=()=>{t(s.error)},s.onupgradeneeded=()=>{s.result.createObjectStore("keyval")},s.onsuccess=()=>{e(s.result)}}))),e}async function s(e,s){const o=await t();return new Promise(((t,a)=>{const r=o.transaction("keyval",e);r.oncomplete=()=>t(),r.onerror=()=>a(r.error),s(r.objectStore("keyval"))}))}return{async get(e){let t;return await s("readonly",(s=>{t=s.get(e)})),t.result},set:(e,t)=>s("readwrite",(s=>{s.put(t,e)})),delete:e=>s("readwrite",(t=>{t.delete(e)}))}})();self.indexedDB||(e={get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),delete:e=>Promise.resolve(localStorage.removeItem(e))});const t="1.15.1",s="svgomg-",o="svgomg-static-1.15.1",a="svgomg-fonts",r=[o,a];addEventListener("install",(s=>{s.waitUntil((async()=>{const s=e.get("active-version"),a=await caches.open(o);await a.addAll(["./","imgs/icon.png","all.css","js/gzip-worker.js","js/page.js","js/prism-worker.js","js/svgo-worker.js","changelog.json","https://fonts.googleapis.com/css?family=Roboto:400,700%7CInconsolata"]);const r=await s;r&&r.split(".")[0]!==t.split(".")[0]||self.skipWaiting()})())})),addEventListener("activate",(o=>{o.waitUntil((async()=>{for(const e of await caches.keys())e.startsWith(s)&&(r.includes(e)||await caches.delete(e));await e.set("active-version",t)})())})),addEventListener("fetch",(e=>{"fonts.gstatic.com"!=new URL(e.request.url).host?e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request)))):e.respondWith(async function(e){const t=await caches.match(e);if(t)return t;const[s,o]=await Promise.all([fetch(e),caches.open(a)]);return o.put(e,s.clone()),s}(e.request))}))}();
//# sourceMappingURL=sw.js.map
